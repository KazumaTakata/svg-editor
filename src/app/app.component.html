<div id="container">
    <app-tools></app-tools>
    <div id="svg-container">
        <svg id="mysvg" width="300" height="300" (mousemove)="svg_mousemove($event)"(mouseup)="svg_mouseup($event)" (mousedown)="svg_mousedown($event)">
            <ng-container  *ngFor="let element of elements; let i = index;">
                <ng-container *ngIf="element.kind=='ellipse'">
                    <ellipse  [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.cx]="element.x" [attr.cy]="element.y" [attr.rx]="element.rx" [attr.ry]="element.ry" [attr.fill]="rgb_color(element.color)" />
                </ng-container>
                <ng-container *ngIf="element.kind=='square'">
                    <rect   [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.x]="element.x - element.rx" [attr.y]="element.y - element.ry" [attr.width]="element.rx*2" [attr.height]="element.ry*2" [attr.fill]="rgb_color(element.color)" />

                    <ng-container *ngIf="current_index == i">
                        <rect   [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.x]="element.x - element.rx" [attr.y]="element.y - element.ry" [attr.width]="element.rx*2" [attr.height]="element.ry*2" stroke-width="1" stroke="gray" fill="none" />
                        <rect   [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.x]="element.x -  element.rx - cursor_box_size/2" [attr.y]="element.y - element.ry - cursor_box_size/2" [attr.width]="cursor_box_size" [attr.height]="cursor_box_size" stroke-width="1" stroke="gray" fill="white" />
                        <rect   [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.x]="element.x + element.rx - cursor_box_size/2" [attr.y]="element.y - element.ry - cursor_box_size/2" [attr.width]="cursor_box_size" [attr.height]="cursor_box_size" stroke-width="1" stroke="gray" fill="white" />
                        <rect   [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.x]="element.x -  element.rx - cursor_box_size/2" [attr.y]="element.y + element.ry - cursor_box_size/2" [attr.width]="cursor_box_size" [attr.height]="cursor_box_size" stroke-width="1" stroke="gray" fill="white" />
                        <rect   [class.unselected-element]="current_index != i && ifdrag" (mousemove)="mousemove($event, i)"(mouseup)="mouseup($event, i)" (mousedown)="mousedown($event, i)" [attr.x]="element.x + element.rx - cursor_box_size/2" [attr.y]="element.y + element.ry - cursor_box_size/2" [attr.width]="cursor_box_size" [attr.height]="cursor_box_size" stroke-width="1" stroke="gray" fill="white" />

                    </ng-container>


                </ng-container>
            </ng-container>
        </svg>
    </div>
    <app-editor></app-editor>
</div>
